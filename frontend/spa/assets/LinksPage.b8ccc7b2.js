import{Q as r}from"./QTable.c54dd1f6.js";import{a as c,l as s}from"./axios.399f11d0.js";import"./compiler-core.esm-bundler.0f61fde6.js";import{_ as m,A as d,r as p,C as u,Q as f,G as n,F as h}from"./index.d2329cae.js";import"./QBtn.feca8f7c.js";import"./scroll.933fd8af.js";const _=[{name:"callsign",label:"Callsign",field:"callsign",sortable:!0},{name:"ip",label:"IP",field:"ip",sortable:!0},{name:"linkedmodule",label:"Linked Module",field:"linkedmodule",sortable:!0},{name:"protocol",label:"Protocol",field:"protocol",sortable:!0},{name:"listenonly",label:"Listen Only",field:"listenonly",sortable:!0},{name:"connecttime",label:"Connect Time",field:"connecttime",sortable:!0},{name:"lastheardtime",label:"Last Heard Time",field:"lastheardtime",sortable:!0}],b=d({data(){return{name:"Links",link_columns:_,link_rows:[],pagination:p({rowsPerPage:0}),intervalId:null}},mounted(){this.fetchLinks(),this.intervalId=setInterval(()=>{this.fetchLinks()},2e4)},beforeRouteLeave(e,t,a){clearInterval(this.intervalId),a()},methods:{fetchLinks(){let e="json/links";c.get(e).then(t=>{let a=t.data;a.forEach(function(o,l){o.id=l+1,o.connecttime=s(o.connecttime),o.lastheardtime=s(o.lastheardtime),a[l]=o}),this.link_rows=a}).catch(t=>{console.error(t)})}}}),g={class:"q-pa-sm"},k={class:"row"},v={class:"col-xs-12 col-md-12"},w={class:"q-pa-md"};function L(e,t,a,o,l,I){return u(),f("div",g,[n("div",k,[n("div",v,[n("div",w,[h(r,{rows:e.link_rows,columns:e.link_columns,"row-key":"name","virtual-scroll":"",pagination:e.pagination,"onUpdate:pagination":t[0]||(t[0]=i=>e.pagination=i),"rows-per-page-options":[0]},null,8,["rows","columns","pagination"])])])])])}var Q=m(b,[["render",L]]);export{Q as default};
